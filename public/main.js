(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"0KVQ":function(e,t){e.exports='<div>\n\n    <div class="top-bar">\n        <div class="top-bar-left padding-left-2">\n            <ul class="menu">\n                <li class="menu-text"><i class="fi-shield" style="font-size: 1.3em;"></i></li>\n                <li class="menu-text">Login</li>\n            </ul>\n        </div>\n    </div>\n\n\n    <div class="grid-container">\n        <div class="grid-x grid-padding-x align-center">\n            <div class="cell small-8 medium-4 large-3">\n\n                <div class="card padding-2 margin-top-3">\n\n                    <form accept-charset="UTF-8" [formGroup]="loginForm" (ngSubmit)="login(loginForm)">\n                        <label>Login name (demo: user)\n                            <input type="text" formControlName="name">\n                        </label>\n                        <label>Password (demo: 12345)\n                            <input type="password" formControlName="password">\n                        </label>\n                        <div class="text-center">\n                            <button class="button small" type="submit">Submit</button>\n                        </div>\n                    </form>\n\n                    <div class="margin-2">\n                        <div class="text-center">\n                            {{ message }}\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n        </div>\n    </div>\n\n</div>'},"1glZ":function(e,t){e.exports=""},"3lBL":function(e,t){e.exports='<div>\n\n    <app-header></app-header>\n\n    <div class="margin-left-2 margin-right-2">\n\n        <div id="lorem" class="grid-container">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-8">\n\n                    <h5>Page not found</h5>\n\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <app-footer></app-footer>\n\n</div>\n\n'},"9zRl":function(e,t){e.exports=""},CAB6:function(e,t){e.exports='<div id="app-header" class="margin-bottom-2">\n\n    <div class="top-bar" id="top-bar">\n\n        <div class="top-bar-left" *ngIf="loginService.isSuperuser()">\n\n            <ul class="dropdown menu" data-dropdown-menu>\n                <li><a href="#"><i class="my-menu-icon"></i></a></li>\n                <li class="menu-text">WCM <i class="fi-sheriff-badge" style="font-size: 1.2em;"></i></li>\n                <li>\n                    <a href="#">Pages</a>\n                    <ul class="menu hover">\n\n                        <li><a routerLink="/users">Users</a></li>\n                        <li><a routerLink="/">Home</a></li>\n                    </ul>\n                </li>\n                <li>\n                    <a (click)="loginService.logout()">\n                        <i class="fi-power" style="font-size: 1.3em;"></i>\n                    </a>\n                </li>\n            </ul>\n\n        </div>\n\n        <div class="top-bar-left" *ngIf="loginService.isUser() && !loginService.isSuperuser()">\n\n            <ul class="dropdown menu" data-dropdown-menu>\n                <li><a href="#"><i class="my-menu-icon"></i></a></li>\n                <li class="menu-text">WCM</li>\n                <li>\n                    <a href="#">Pages</a>\n                    <ul class="menu hover">\n\n                        <li><a routerLink="/">Home</a></li>\n                    </ul>\n                </li>\n                <li>\n                    <a (click)="loginService.logout()">\n                        <i class="fi-power" style="font-size: 1.3em;"></i>\n                    </a>\n                </li>\n            </ul>\n\n        </div>\n\n\n        <div class="top-bar-left"  *ngIf="!loginService.isLogin()">\n            <ul class="dropdown menu" data-dropdown-menu>\n                <li><a href="#"><i class="my-menu-icon"></i></a></li>\n                <li class="menu-text">WCM</li>\n                <li>\n                    <a href="#">Pages</a>\n                    <ul class="menu hover">\n                        <li><a routerLink="/">Home</a></li>\n                    </ul>\n                </li>\n\n                <li><a routerLink="/login">Login</a></li>\n            </ul>\n        </div>\n\n    </div>\n\n</div>'},FcHw:function(e,t){e.exports=""},"Jyj+":function(e,t){e.exports='<div>\n    <app-header></app-header>\n\n    <div class="margin-left-2 margin-right-2">\n\n\n        <div id="lorem" class="grid-container">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-6">\n\n                    <h6><b>Home page</b></h6>\n\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <app-footer></app-footer>\n\n</div>'},Lfsv:function(e,t){e.exports='<div *ngIf="show">\n\n    <form accept-charset="UTF-8" class="callout" [formGroup]="userForm" (ngSubmit)="create(userForm)"  >\n\n        <h5 class="text-center">Do create user?</h5>\n\n        <label>Login\n            <input type="text" formControlName="name" />\n        </label>\n\n        <label>Password\n            <input type="text" formControlName="password" />\n        </label>\n\n        <label>Name\n            <input type="text" formControlName="gecos" />\n        </label>\n\n        <fieldset class="cell margin-bottom-1 text-center">\n            <input id="checkbox-user-as" type="checkbox" formControlName="superuser">\n            <label for="checkbox-user-as">as Superuser</label>\n        </fieldset>\n\n        <div class="text-center">\n            <button class="button small margin-left-1 margin-right-1" type="submit">Accept</button>\n            <div class="button small margin-left-1 margin-right-1" (click)="escape()">Escape</div>\n        </div>\n    </form>\n\n</div>'},RZj8:function(e,t){e.exports='<div id="users">\n\n    <app-header></app-header>\n\n    <div class="margin-left-2 margin-right-2">\n\n        <div id="lorem" class="grid-container">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-4">\n\n                    <user-create [show]="showCreateForm" (escapeEvent)="escapeForm()"  (successEvent)="successForm($event)"></user-create>\n\n                </div>\n            </div>\n        </div>\n\n        <div class="grid-container">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-4">\n\n                    <user-update [user]="currentUser" [show]="showUpdateForm" (escapeEvent)="escapeForm()" (successEvent)="successForm($event)"></user-update>\n\n                </div>\n            </div>\n        </div>\n\n\n        <div class="grid-container">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-4">\n\n                    <user-drop [user]="currentUser" [show]="showDropForm" (escapeEvent)="escapeForm()" (successEvent)="successForm($event)"></user-drop>\n\n                </div>\n            </div>\n        </div>\n\n\n        <div class="grid-container" *ngIf="showListRecords">\n            <div class="grid-x grid-margin-x align-center">\n                <div class="cell medium-8">\n\n                    <h5>Users <a (click)="getList()"><i class="fi-refresh" style="font-size: 1.3em;"></i></a>\n                        <button class="float-right small button" (click)="showCreate()"><i class="fi-plus" style="font-size: 1.3em;"></i></button>\n                    </h5>\n\n                    <table>\n                        <thead>\n                            <tr>\n                                <th>#</th>\n                                <th>name</th>\n                                <th>login</th>\n                                <th>right</th>\n                                <th><i class="fi-pencil"></i></th>\n                                <th><i class="fi-trash"></i></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor="let item of list; let i = index">\n                                <td>{{ i + 1 }}</td>\n                                <td>{{ item.gecos  }}</td>\n                                <td>{{ item.name  }}</td>\n                                <td><span *ngIf="item.superuser"><i class="fi-sheriff-badge" style="font-size: 1.2em;"></i></span></td>\n                                <td><a (click)="updateItem(item)"><i class="fi-pencil"></i></a></td>\n                                <td><a (click)="dropItem(item)"><i class="fi-trash"></i></a></td>\n                            </tr>\n                        </tbody>\n                    </table>\n\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <app-footer></app-footer>\n\n</div>'},Vl0e:function(e,t){e.exports=""},XJmD:function(e,t){e.exports=""},XUH9:function(e,t){e.exports='<div *ngIf="show">\n\n    <form accept-charset="UTF-8" class="callout" [formGroup]="userForm" (ngSubmit)="update(userForm)"  >\n\n        <h5 class="text-center">Do update user?</h5>\n\n        <label>Login\n            <input type="text" formControlName="name" />\n        </label>\n\n        <label>Password\n            <input type="text" formControlName="password" />\n        </label>\n\n        <label>Name\n            <input type="text" formControlName="gecos" />\n        </label>\n\n        <fieldset class="cell margin-bottom-1 text-center">\n            <input id="checkbox-user-as" type="checkbox" formControlName="superuser">\n            <label for="checkbox-user-as">as Superuser</label>\n        </fieldset>\n\n        <div class="text-center">\n            <button class="button small margin-left-1 margin-right-1" type="submit">Accept</button>\n            <div class="button small margin-left-1 margin-right-1" (click)="escape()">Escape</div>\n        </div>\n    </form>\n\n</div>\n'},ZTFi:function(e,t){e.exports=""},ahDs:function(e,t){e.exports=""},bdh1:function(e,t){e.exports=""},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},jqKc:function(e,t){e.exports=""},"nH/3":function(e,t){e.exports='<div id="app">\n    <router-outlet></router-outlet>\n</div>\n\n'},o1eo:function(e,t){e.exports='<div *ngIf="show">\n\n    <form accept-charset="UTF-8" class="callout" [formGroup]="userForm" (ngSubmit)="update(userForm)"  >\n\n        <h5 class="text-center">Do drop user {{ user.name }}?</h5>\n\n        <div class="text-center">\n            <button class="button small margin-left-1 margin-right-1" type="submit">Accept</button>\n            <div class="button small margin-left-1 margin-right-1" (click)="escape()">Escape</div>\n        </div>\n    </form>\n\n</div>\n'},thI0:function(e,t){e.exports='<div id="app-footer">\n    <div class="grid-container">\n        <div class="grid-x grid-margin-x align-center">\n            <div class="cell medium-8">\n                <hr />\n\n                <p class="text-center">\n                    <small>Made by <a href="http://wiki.unix7.org">Borodin Oleg</a></small>\n                </p>\n\n            </div>\n        </div>\n    </div>\n</div>\n'},ynWL:function(e,t){e.exports=""},zUnb:function(e,t,n){"use strict";n.r(t);var s=n("CcnG"),i=n("ToYH"),o=n("mrSG"),r=n("gIcY"),a=n("ZYjt"),c=n("wFw1"),u=n("t/Na"),p=n("ZYCi"),l=function(){function e(){}return e.prototype.ngOnInit=function(){},e=o.b([Object(s.n)({selector:"app-home",template:n("Jyj+"),styles:[n("bdh1")]})],e)}(),d=n("5YMW"),h=n("EcEN"),m=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t,n){var s={jsonrpc:"2.0",method:t,params:n,id:Object(h.v4)()};return this.httpClient.post(e,s)},e=o.b([Object(s.A)({providedIn:"root"}),o.d("design:paramtypes",[u.a])],e)}(),g=function(){function e(e,t,n){this.route=e,this.router=t,this.rpc=n,this.cookieName="session",this.returnUrl="/",this.loginState=!1,this.user={id:-1,name:"",superuser:!1,gecos:""}}return e.prototype.isLogin=function(){return!!d.get(this.cookieName)},e.prototype.isUser=function(){return this.isLogin()},e.prototype.isSuperuser=function(){return!(!this.isLogin()||!this.user.superuser)},e.prototype.login=function(e,t){var n=this,s={name:e,password:t,id:-1};return this.rpc.request("/api/login","login",s).subscribe(function(e){e.result[0].id>=0&&(n.user.id=e.result[0].id,n.user.superuser=e.result[0].superuser,n.user.gecos=e.result[0].gecos,n.cookieController=setInterval(function(){n.isLogin()&&!d.get(n.cookieName)&&n.logout()},1e3),n.router.navigate([n.returnUrl]))}),this.user.id>=0},e.prototype.logout=function(){d.remove(this.cookieName),this.router.navigate(["/"])},e.prototype.ngOnInit=function(){},e=o.b([Object(s.A)({providedIn:"root"}),o.d("design:paramtypes",[p.a,p.b,m])],e)}(),f=function(){function e(e,t){this.formBuilder=e,this.loginService=t,this.message="",this.attemptCount=0,this.debug=""}return e.prototype.login=function(e){var t=this;this.loginService.login(e.value.name,e.value.password)?this.message="Wow! Login successful":setTimeout(function(){t.attemptCount++,t.message="Login incorrect. Attempt "+t.attemptCount},1e3)},e.prototype.ngOnInit=function(){this.loginForm=this.formBuilder.group({name:[""],password:[""]})},e=o.b([Object(s.n)({selector:"login",template:n("0KVQ"),styles:[n("ZTFi")]}),o.d("design:paramtypes",[r.a,g])],e)}(),v=function(){function e(e){this.rpcService=e}return e.prototype.list=function(){return this.rpcService.request("/api/users","list",{})},e.prototype.create=function(e){return this.rpcService.request("/api/users","create",e)},e.prototype.update=function(e){return this.rpcService.request("/api/users","update",e)},e.prototype.drop=function(e){return this.rpcService.request("/api/users","drop",e)},e=o.b([Object(s.A)({providedIn:"root"}),o.d("design:paramtypes",[m])],e)}(),b=function(){function e(e){this.usersService=e,this.showCreateForm=!1,this.showUpdateForm=!1,this.showDropForm=!1,this.showListRecords=!0,this.list=[],this.currentUser={id:-1,name:"",password:"",gecos:""}}return e.prototype.dropItem=function(e){this.currentUser=e,this.showDrop()},e.prototype.updateItem=function(e){this.currentUser=e,this.showUpdate()},e.prototype.getList=function(){var e=this;this.usersService.list().subscribe(function(t){e.list=t.result})},e.prototype.ngOnInit=function(){this.getList()},e.prototype.escapeForm=function(){this.showList()},e.prototype.successForm=function(e){this.getList(),this.showList()},e.prototype.showCreate=function(){this.showCreateForm=!0,this.showUpdateForm=!1,this.showDropForm=!1,this.showListRecords=!1},e.prototype.showUpdate=function(){this.showCreateForm=!1,this.showUpdateForm=!0,this.showDropForm=!1,this.showListRecords=!1},e.prototype.showDrop=function(){this.showCreateForm=!1,this.showUpdateForm=!1,this.showDropForm=!0,this.showListRecords=!1},e.prototype.showList=function(){this.showCreateForm=!1,this.showUpdateForm=!1,this.showDropForm=!1,this.showListRecords=!0},e=o.b([Object(s.n)({selector:"users",template:n("RZj8"),styles:[n("ahDs")]}),o.d("design:paramtypes",[v])],e)}(),y=function(){function e(){}return e.prototype.ngOnInit=function(){},e=o.b([Object(s.n)({selector:"not-found",template:n("3lBL"),styles:[n("XJmD")]})],e)}(),w=function(){function e(e,t){this.loginService=e,this.router=t,this.cookieName="session"}return e.prototype.canActivate=function(e,t){return!!this.loginService.isSuperuser()||(this.loginService.returnUrl=t.url,this.router.navigate(["/login"]),!1)},e=o.b([Object(s.A)(),o.d("design:paramtypes",[g,p.b])],e)}(),x=[{path:"login",component:f},{path:"users",component:b,canActivate:[w]},{path:"",component:l},{path:"**",component:y}],O=function(){function e(){}return e=o.b([Object(s.I)({imports:[p.c.forRoot(x)],exports:[p.c]})],e)}(),F=function(){function e(){}return e.prototype.ngOnInit=function(){$(document).foundation()},e=o.b([Object(s.n)({selector:"app",template:n("nH/3"),styles:[n("ynWL")]})],e)}(),j=function(){function e(e){this.loginService=e}return e.prototype.ngOnInit=function(){$("#app-header").foundation()},e.prototype.ngAfterViewInit=function(){$("#app-header").foundation()},e.prototype.ngOnChanges=function(e){$("#app-header").foundation()},e.prototype.ngAfterContentChecked=function(){$("#app-header").foundation()},e=o.b([Object(s.n)({selector:"app-header",template:n("CAB6"),styles:[n("Vl0e")]}),o.d("design:paramtypes",[g])],e)}(),S=function(){function e(){}return e.prototype.ngOnInit=function(){},e=o.b([Object(s.n)({selector:"app-footer",template:n("thI0"),styles:[n("jqKc")]}),o.d("design:paramtypes",[])],e)}(),C=function(){function e(e,t){this.loginService=e,this.router=t}return e.prototype.canActivate=function(e,t){return!!this.loginService.isUser()||(this.loginService.returnUrl=t.url,this.router.navigate(["/login"]),!1)},e=o.b([Object(s.A)(),o.d("design:paramtypes",[g,p.b])],e)}(),L=function(){function e(e,t){this.formBuilder=e,this.usersService=t,this.alertMessage="",this.message="",this.show=!1,this.escapeEvent=new s.v,this.successEvent=new s.v}return e.prototype.create=function(e){var t=this;this.user=e.value,this.usersService.create(this.user).subscribe(function(e){e.result.rowCount>0?(t.show=!1,t.successEvent.emit(!0)):(t.show=!1,t.successEvent.emit(!1))})},e.prototype.escape=function(){this.show=!1,this.escapeEvent.emit(!0)},e.prototype.ngOnInit=function(){this.userForm=this.formBuilder.group({name:[""],password:[""],gecos:[""],superuser:[!1]})},o.b([Object(s.D)(),o.d("design:type",Boolean)],e.prototype,"show",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"escapeEvent",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"successEvent",void 0),e=o.b([Object(s.n)({selector:"user-create",template:n("Lfsv"),styles:[n("FcHw")],animations:[]}),o.d("design:paramtypes",[r.a,v])],e)}(),E=function(){function e(e,t){this.formBuilder=e,this.usersService=t,this.alertMessage="",this.message="",this.show=!1,this.user={id:-1,name:"",password:"",gecos:""},this.escapeEvent=new s.v,this.successEvent=new s.v}return e.prototype.create=function(e){this.user=e.value},e.prototype.escape=function(){this.show=!1,this.escapeEvent.emit(!0)},e.prototype.update=function(e){var t=this;this.user=e.value,this.usersService.update(this.user).subscribe(function(e){e.result.rowCount>0?(t.show=!1,t.successEvent.emit(!0)):(t.show=!1,t.successEvent.emit(!1))})},e.prototype.ngOnChanges=function(e){e.user&&(this.userForm=this.formBuilder.group({id:[this.user.id],name:[this.user.name],password:[this.user.password],gecos:[this.user.gecos],superuser:[this.user.superuser]}))},e.prototype.ngOnInit=function(){},o.b([Object(s.D)(),o.d("design:type",Boolean)],e.prototype,"show",void 0),o.b([Object(s.D)(),o.d("design:type",Object)],e.prototype,"user",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"escapeEvent",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"successEvent",void 0),e=o.b([Object(s.n)({selector:"user-update",template:n("XUH9"),styles:[n("1glZ")]}),o.d("design:paramtypes",[r.a,v])],e)}(),I=function(){function e(e,t){this.formBuilder=e,this.usersService=t,this.alertMessage="",this.message="",this.show=!1,this.user={id:-1,name:"",password:"",gecos:""},this.escapeEvent=new s.v,this.successEvent=new s.v}return e.prototype.create=function(e){this.user=e.value},e.prototype.escape=function(){this.show=!1,this.escapeEvent.emit(!0)},e.prototype.update=function(e){var t=this;this.user=e.value,this.usersService.drop(this.user).subscribe(function(e){e.result.rowCount>0?(t.show=!1,t.successEvent.emit(!0)):(t.show=!1,t.successEvent.emit(!1))})},e.prototype.ngOnChanges=function(e){e.user&&(this.userForm=this.formBuilder.group({id:[this.user.id]}))},e.prototype.ngOnInit=function(){},o.b([Object(s.D)(),o.d("design:type",Boolean)],e.prototype,"show",void 0),o.b([Object(s.D)(),o.d("design:type",Object)],e.prototype,"user",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"escapeEvent",void 0),o.b([Object(s.P)(),o.d("design:type",Object)],e.prototype,"successEvent",void 0),e=o.b([Object(s.n)({selector:"user-drop",template:n("o1eo"),styles:[n("9zRl")]}),o.d("design:paramtypes",[r.a,v])],e)}(),U=function(){function e(){}return e=o.b([Object(s.I)({declarations:[j,S,F,l,b,f,y,L,E,I],imports:[r.c,r.b,a.a,c.a,O,u.b],providers:[g,m,v,C,w],bootstrap:[F]})],e)}();Object(s.pb)(),Object(i.a)().bootstrapModule(U).catch(function(e){return console.error(e)})}},[[0,0,4]]]);